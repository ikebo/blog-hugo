<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | Ike&#39;Log</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - Ike&#39;Log">
<meta name="author" content="Egbert Ke">
<link rel="canonical" href="https://ikebo.cc/post/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7140587df96a2b1a49eb723fa7063dc0c641a6cb638f3140e8d3beb4deae4f5c.css" integrity="sha256-cUBYfflqKxpJ63I/pwY9wMZBpstjjzFA6NO&#43;tN6uT1w=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://ikebo.cc/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://ikebo.cc/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://ikebo.cc/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://ikebo.cc/apple-touch-icon.png">
<link rel="mask-icon" href="https://ikebo.cc/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://ikebo.cc/post/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Posts" />
<meta property="og:description" content="Egbert Ke&#39;s Blog" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://ikebo.cc/post/" /><meta property="og:image" content="https://ikebo.cc/papermod-cover.png"/>

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://ikebo.cc/papermod-cover.png"/>

<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="Egbert Ke&#39;s Blog"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://ikebo.cc/post/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://ikebo.cc/" accesskey="h" title="Ike&#39;Log (Alt + H)">Ike&#39;Log</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://ikebo.cc/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://ikebo.cc/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://ikebo.cc/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://ikebo.cc/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://ikebo.cc/">Home</a></div>
  <h1>
    Posts
    <a href="/post/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>分布式理论的简单理解
    </h2>
  </header>
  <div class="entry-content">
    <p>一个分布式系统里面，节点组成的网络本来应该是连通的。然而可能因为一些故障，使得有些节点之间不连通了，整个网络就分成了几块区域。数据就散布在了这些不连通的区域中。这就叫分区。
当你一个数据项只在一个节点中保存，那么分区出现后，和这个节点不连通的部分就访问不到这个数据了。这时分区就是无法容忍的。
提高分区容忍性的办法就是一个数据项复制到多个节点上，那么出现分区之后，这一数据项就可能分布到各个区里。容忍性就提高了。
然而，要把数据复制到多个节点，就会带来一致性的问题，就是多个节点上面的数据可能是不一致的。要保证一致，每次写操作就都要等待全部节点写成功，而这等待又会带来可用性的问题。
总的来说就是，数据存在的节点越多，分区容忍性越高，但要复制更新的数据就越多，一致性就越难保证。为了保证一致性，更新所有节点数据所需要的时间就越长，可用性就会降低。
转载自知乎</p>
  </div>
  <footer class="entry-footer"><span title='2022-01-07 00:00:00 +0000 UTC'>January 7, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Egbert Ke</footer>
  <a class="entry-link" aria-label="post link to 分布式理论的简单理解" href="https://ikebo.cc/post/migrate/part2/%E5%88%86%E5%B8%83%E5%BC%8F%E7%90%86%E8%AE%BA%E7%9A%84%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>生命的意义
    </h2>
  </header>
  <div class="entry-content">
    <p>生命在于运动，及早睡早起
运动代表生命的活力和激情
早睡代表自律
早起代表积极的生活态度，精进</p>
  </div>
  <footer class="entry-footer"><span title='2021-10-20 00:00:00 +0000 UTC'>October 20, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Egbert Ke</footer>
  <a class="entry-link" aria-label="post link to 生命的意义" href="https://ikebo.cc/post/migrate/part2/%E7%94%9F%E5%91%BD%E7%9A%84%E6%84%8F%E4%B9%89/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>我的大学
    </h2>
  </header>
  <div class="entry-content">
    <p>本文转载自徐宥的我的大学
我的大学 虽然标题是”我的大学”，但大学中的一切，其实都和大学前的经历和学习习惯有关。因此，我还是从我小学时的一件对我以后人生，包括大学影响巨大的事情说起吧。
数理化和好老爸
我的小学是在农村里和爷爷奶奶度过的。我的父母住在小镇上，两人平时都要工作，没空照看我和我弟弟。所以，我只有周末和放假才到镇上，和父母弟弟在一起。四年级升五年级那个暑假，我到了镇上，和父母在一起。因为一起抓鱼钓虾的玩伴都在老家，百无聊赖的我开始乱翻父亲的书橱，找书看。某天，我翻出了一本叫做《平面几何一题多解》的书，那是本封面很好看的书。我把整本书翻下来，每个汉字我都认识，但每个符号我都不懂。好奇的我于是问父亲，这个书讲的是什么呀，怎么从来没见过这些奇怪的符号呢？ 他就告诉我说，书里讲解的这个东西，叫平面几何。他接着问我说，“平面几何是个很有趣的东西，你想不想学呢？” 我说，当然想啊。那时的我，其实只是一个好奇的小学生，迫切想知道这个书中的图画和符号的意思。我肯定不会想到，这个很随意的决定，改变了我其后的整个人生。
听了我肯定的回答，我父亲立即从书橱里层（我家书太多了，书橱太小，书橱里书分里层外层，外层的书挡住了内层的书脊，我从来都不知道里面还有宝贝）变戏法一般的翻出了本《数理化自学丛书–平面几何》。对于我父亲这一代人来说，《数理化自学丛书》是代表着知识，荣耀和梦想的。我感觉他翻出这本书的时候的动作是虔诚的，但当时的我并不知道我父亲在这套书上寄托的希冀和梦想。我只记得他告诉我，当年这套书，用去了他大半个月工资。就这样，从五年级开始，我就在父亲的指点下，开始蹒跚前进学习《平面几何》。从一开始不知道什么叫 “证明”， 需要他一字一句帮我厘清逻辑关系，到后来全是自学不需要他教，我很快就喜欢上了自学这种学习方式，每天自己看书并且做八道题。暑假过完后，我就回到了爷爷奶奶的老家。父亲让我继续自学，并且布置我一周做八道题。我在爷爷奶奶家，每天放学回来不做家庭作业也不看动画片，就赶紧做一道几何题。做几何题的妙趣，是不融入其中的人不能理解的。比起小学里的抄生字，抄课文这种作业，做几何题是脑力和体力的双重享受。当时，我周围没人可以讨论切磋，全靠自己。遇到不会的题目，我只能自己冥思苦想，或者熬到周末和父亲讨论，因此，常常被一道难题从周一折腾到周日。好在这套书是粉碎四人帮后出的第一版，当年学生的数学水平比不上现在的学生，而这本书又是以自学为主要切入点，所以题目相对也简单，我冥思苦想几天后大体上也能想到解题思路。因此，我能够常常体验百思得解的愉悦感。我觉得，这种时常拜访的愉悦感，让我很早就开始相信独立思考的力量。
每个周末，父亲都用吱吱作响的自行车带我到镇上洗澡理发，然后批改上周我做的几何题。在自行车上的时候，他常常信马由缰，随口说些说些初中物理和初中代数知识，比如看到船就说浮力，看到马就说做功，看到三角形就说余弦定理等等。我也就半懂不懂的听，有时候插几句话，有时候能睡着了，没有丝毫的压力和拘束。很早就被中学数学物理知识装备的一个小学生是可怕的，我那时候觉得知识就是力量，因此我一定要用自己的数学物理知识做一台柴油机，我很自信的认为我懂得做柴油机和机动车的一切知识，说不定还能做出第二类永动机。我爸爸屡次告诉我不可行，而我反过来一直屡次告诉他，你是个没有理想的人。我爸爸不愿意打消我的理想，只是扔给我更多的书，希望能够打击我制造柴油机和永动机的热情，而我的知识理想，在读了更加多的书以后，变得更加的坚固了，我相信，学习知识是我人生第一重要事，有了知识，虽然不一定能做柴油机，但一定能做更多强大的事情。同时，我通过学习几何和其他的一些父亲扔给我的书，开始对自己的学习能力有了自信，我相信，找书自学是学知识的好方法，同时，把题从头到尾做一遍是很好的自学方法。
所以，我带着三个理念进入了大学，第一是什么东西都可以自学，第二是慢即是快，笨笨的做一遍题是学习的捷径；第三是知识理想主义，知识就是力量。而读书学知识能够消除蒙昧，掌握改变世界的力量，所以是一件快乐的事情。
大一，极端自负和极端自卑
我的高考成绩还很不错，高中还拿了一个数学联赛一等奖，所以，我是带着对自己数学知识（为了准备数学竞赛，我看了很多闲书，有很多就是大学数学系的教材）和学习方法的自信满满，和对南大数学系这个相对不好的选择的遗憾和自卑（当时的高考分数可以填报更加好的学校或更加喜欢的专业）来到大学的。当时我的心理状态可以用八个字概括: 极端自负，极端自卑。 这种心态，一直笼罩了我上大学的头两年，而且总是以一季度为周期，在两极之间交替变化。我在学期开始往往很自负，到期中考试左右很自卑，然后再自负，再自卑，不断反复。
在我看来，极端自负这个心态，其实不是因为自信，而是因为极端自卑生出的应激反应–为了掩盖自卑，只好用自负来掩饰。为什么我极端自卑呢，大体来自两个方面，一个是我的成绩排名在高中都是很前的，但是到了大学就 20 名开外了。尽管我觉得自己的数学水平很不错，考试却总是不怎么样，觉得考试考不出真水平。另一个是觉得自己没有在一个自己满意的系。我喜欢动手的工科，当时我觉得比起计算机系和电子系这样的“牛” 系，数学系并不“牛”。可即使在不牛的系，我都不能做到前10，更别说看上去更加牛的计算机系了。为了掩饰这种这种自卑，就自然生出了极端自负。那时候，我上课根本不听讲，理由是“书上的东西太简单了”。为了证明自己智商还可以，我总是坐在最后一排，显示自己并不热心于老师讲课。我这样持续了两年， 以至于到最后， 我连班上每次都坐在前面的几个同学的名字都不知道。这样的心态明明是错的，我却缺少一个很好的动因来改变它。
不过最原始的三个理念还是在的，我告诫自己即使不听讲，也不能浪费时间。所以，我把听课做作业上节省下来的时间，用在了看喜欢的计算机书和学习编程上了。于是，整个大一大二，我凭借着简单的自学的理念，开始了两件事情，敲 《Thinking in Java》(TIJ) 和 《The TeXbook》 上的没一个样例。
敲 TIJ 的机缘其实很简单，我是在软件学院听课的时候看到他们教 Java, 但是他们用的 《Java 大学教程》太贵了，我舍不得买。 我在网上搜了一圈，发现 《Thinking in Java》是一个免费的英文电子书。 于是，我就在数学系的机房，每天下午和晚上，开着一台计算机，屏幕上放着这个电子书，再用我的很土的笔记本，运行着未注册的 JCreator, 一个字母一个字母的敲 TIJ 上面的程序。我很偏激的认为拷贝粘帖的程序记不住，所以每个字母都自己手敲。 就这样，花了一个学期，居然就把所有的程序敲完了，基本上 Java 的方方面面，我也了然于胸了。
敲完 Thinking in Java 之前没几天，我们就期末考试了。那一次考试的试题是 LaTeX 排版的，而不是手写的。 我考试的时候就问监考老师这玩意怎么排版出来的，因为我知道 Word 这个软件做不到这个效果。监考老师除了对我不认真考试表示不满外， 还算仁慈，告诉了我 LaTeX 这个名词。 寒假里，我就买了一本 LaTeX 教程。然后，突然认识到，原来 TeX 居然是我最热爱的 Knuth 的杰作，于是我就疯狂的开始学 TeX。 我的方法还是一样， 敲例子。 记得 TeXbook 上有一个程序， Knuth 让大家自己照着敲入计算机， 然后还很幽默的说，实验证明，只有很少的人会按照他说的敲入这个程序，而这部分人，却是学 TeX 最好的人。看到这里我会心一笑，觉得自己的方法原来也不算笨。从此，一字不漏敲入一本书的程序成了我推荐别人学习语言的最好办法。 我后来大四又敲了 A Byte of Python，前段时间又敲玩了 The Awk Book，都是不到一个月瞬间从初学者成为细节很熟悉顺手拈来使用者。顺着这个方法，大二我把 《组合数学引论》 和上海交通大学出版的一本 《离散数学》 上的题目都做一题不漏做完了。当时选者两本书也没有特别的目的，就觉得这东西应该是计算机的数学基础。这些积累，在大四全部都显现了出来。...</p>
  </div>
  <footer class="entry-footer"><span title='2021-09-28 00:00:00 +0000 UTC'>September 28, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Egbert Ke</footer>
  <a class="entry-link" aria-label="post link to 我的大学" href="https://ikebo.cc/post/migrate/part2/%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>What the heck is the event loop?
    </h2>
  </header>
  <div class="entry-content">
    <p>前几天看了一个youtube视频，关于JavaScript运行原理的，讲的比较透彻，在此记录一下。
这位老兄为此还写了一个可以实时看到js运行时动画的程序，实属牛逼。
这位老兄的博客地址：http://latentflip.com</p>
  </div>
  <footer class="entry-footer"><span title='2021-09-17 00:00:00 +0000 UTC'>September 17, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Egbert Ke</footer>
  <a class="entry-link" aria-label="post link to What the heck is the event loop?" href="https://ikebo.cc/post/migrate/part2/what-the-heck-is-the-event-loop/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>NodeJS架构 - 单线程事件循环模型
    </h2>
  </header>
  <div class="entry-content">
    <p>这篇译章探究了NodeJS的架构和单线程事件循环模型。我们将在本文中讨论“NodeJS如何在底层工作，它遵循什么类型的处理模型，NodeJS如何使用单线程模型处理并发请求”等内容。
NodeJS 单线程事件循环模型 正如我们刚才说的，NodeJS使用的是“单线程事件循环模型”的架构去处理多个并发的客户端请求的。
有许多Web应用程序技术，如JSP，Spring MVC，ASP.NET等。但所有这些技术都遵循“多线程请求 - 响应”架构来处理多个并发客户端。
我们已经熟悉“多线程请求 - 响应”架构，因为它被大多数Web应用程序框架使用。 但是为什么NodeJS选择了不同的架构来开发Web应用程序。多线程和单线程事件循环体系结构之间的主要区别是什么?
NodeJS NodeJS使用“单线程事件循环模型”架构来处理多个并发客户端。然而它是如何真正处理并发客户端请求且不使用多个线程。什么是事件循环模型？我们将逐一讨论这些概念。
在讨论“单线程事件循环”架构之前，首先我们将介绍著名的“多线程请求 - 响应”架构。
传统的Web应用处理模型 任何非NodeJS开发的Web应用程序通常都遵循“多线程请求 - 响应”模型。我们可以将此模型称为请求/响应模型。
客户端向服务器发送请求，然后服务器根据客户端请求进行一些处理，准备响应并将其发送回客户端。
该模型使用HTTP协议。由于HTTP是无状态协议，因此该请求/响应模型也是无状态模型。所以我们可以将其称为请求/响应无状态模型。
但是，此模型使用多线程来处理并发客户端请求。 在讨论这个模型内部之前，首先要看下面的内容。
请求/响应模型处理的步骤: 客户端发送一个请求到Web服务器 Web服务器内部维护一个有限的线程池，以便在客户端请求提供服务 Web服务器处于无限循环中并等待客户端传入请求 Web服务器处理请求步骤: 接收到一个客户端请求 从线程池中选择一个线程 将此线程分配给客户端请求 此线程读取客户端请求，处理客户端请求，执行阻塞的IO操作(如果需要)和准备响应 此线程将准备好的请求发送回Web服务器 Web服务器又将此响应发送到相应的服务器 服务器为所有客户端执行以上步骤，为每一个客户端请求创建一个线程。
图表说明:
Client-1, Client-2, …, Client-n是同时发送请求到Web服务器的客户端应用 Web服务器内部维护着一个有限的线程池，线程池中线程数量为m个 Web服务器逐个接收这些请求: Web服务器拾取Client-1的请求Request-1，从线程池中拾取一个线程T-1并将此请求分配给线程T-1 线程T-1读取Client-1的请求Request-1, 并处理该请求 该请求无阻塞IO处理 处理完必要的步骤后准备将Response-1发送回客户端 Web服务器又将此Response-1发送到Client-1 Web服务器拾取Client-2的请求Request-2，从线程池中拾取一个线程T-2并将此请求分配给线程T-2 线程T-2读取Client-2的请求Request-2, 并处理该请求 该请求无阻塞IO处理 处理完必要的步骤后准备将Response-2发送回客户端 Web服务器又将此Response-2发送到Client-2 Web服务器拾取Client-n的请求Request-n，从线程池中拾取一个线程T-n并将此请求分配给线程T-n 线程T-n读取Client-n的请求Request-n, 并处理该请求 Request-n需要大量的阻塞IO和计算操作 线程T-n需要更多时间与外部系统(SQL, File System)交互，执行必要步骤并准备Response-n并将其发送回服务器 Web服务器又将此Response-n发送到Client-n 如果’n’大于’m’（大多数时候,它是真的），则在使用完所有的m个线程之后，剩余的客户端请求会在队列中等待。
如果这些线程中有大量的阻塞IO操作(例如:和数据库、文件系统、外部服务等交互)，那么剩余的客户端也会等待更长的时间。
一旦线程池中的线程空闲且可用于下一个任务，服务器就会拾取这些线程并将它们分配给剩余的客户端请求。 每个线程都会使用到许多资源，如内存等。因此，在将这些线程从忙状态转到等待状态之前，它们应该释放所有获取的资源。 请求/响应无状态模型的缺点：
在处理越来越多的并发客户端请求时会变得棘手 当客户端请求增加时，线程也会越来越多，最后它们会占用更多内存。 客户端可能需要等待服务器释放可用的线程去处理其请求 处理阻塞式的IO任务时浪费时间 NodeJS的架构 - 单线程事件循环 NodeJS不遵循请求/响应多线程无状态模型。 它采用单线程与事件循环模型。 NodeJS的处理模型主要基于Javascript基于事件的模型和Javascript回调机制。...</p>
  </div>
  <footer class="entry-footer"><span title='2021-09-08 00:00:00 +0000 UTC'>September 8, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Egbert Ke</footer>
  <a class="entry-link" aria-label="post link to NodeJS架构 - 单线程事件循环模型" href="https://ikebo.cc/post/migrate/part2/nodejs%E6%9E%B6%E6%9E%84-%E5%8D%95%E7%BA%BF%E7%A8%8B%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%A8%A1%E5%9E%8B/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://ikebo.cc/post/page/3/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://ikebo.cc/post/page/5/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://ikebo.cc/">Ike&#39;Log</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
